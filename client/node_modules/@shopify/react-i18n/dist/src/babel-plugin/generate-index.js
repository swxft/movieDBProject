"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var path_1 = require("path");
var fs_extra_1 = tslib_1.__importDefault(require("fs-extra"));
var shared_1 = require("./shared");
function generateTranslationIndexes() {
    var fallbackLocale = shared_1.DEFAULT_FALLBACK_LOCALE;
    var translationBuckets = shared_1.findTranslationBuckets(process.cwd());
    Object.entries(translationBuckets).forEach(function (_a) {
        var _b = tslib_1.__read(_a, 2), translationsDir = _b[0], translationFilePaths = _b[1];
        var localeIdArrayString = shared_1.toArrayString(shared_1.getLocaleIds({
            translationFilePaths: translationFilePaths,
            fallbackLocale: fallbackLocale,
        }));
        fs_extra_1.default.writeFile(path_1.join(translationsDir, 'index.js'), "/* This is generated and should not be checked-in*/\nexport default " + localeIdArrayString + ";");
    });
}
exports.generateTranslationIndexes = generateTranslationIndexes;
